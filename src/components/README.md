前端组件库-维护规范

# 规范要求

加入沃趣前端 React 组件开发工作，我们需要在以下观点上达成共识，以这些共识为基本原则去设计、实现我们的公有组件。

这样的好处是我们的组件库会有统一的规律和习惯，准守规范要求，使用和开发的过程你将更得心应手：

## 工程规范

- 每个组件、utils 工具，需要提供包含用途（甚至设计动机）、接口、注意事项（甚至 changelog）、简单的用例（简单的使用姿势展示示意即可）的 README.md 文件；
- 组件的**目录风格**（不是要所有目录都一毛一样）应该保持一致：

```
components/
  |
  |---Button/
  ...   |---index.ts
        |---ButtonXXX.tsx
        |---README.md
        |---examples/
        |     |---index.ts
        |     ...
        |---utils/
        |     |---index.ts
        |     ...
        |---styles/
        	  |---index.scss
        	  ...
```

如上图所示，大家养成一样的习惯，维护和使用目录也会更开心。

即：

- 统一放在一个文件夹下（Button/）；
- 每个文件夹下都应有 index 文件；
- utils、style、adapter、interface 等文件夹，**按需添加**，所有组件用到的，都应放在自己的目录下，日后统一抽象使用，避免全局污染；

## 实现规范

- 本仓库组件内部不能有任何业务逻辑，业务组件应放在 fork 的仓库中；
- 当组件的值来自组件外部（props），且需要永远要通知外部值的变动时（即场景是父子组件的值不应该是不一致的情况时），要采用 controlled 设计模式；
- 组件优先使用 ts 实现，否则要给出 \*.d.ts 接口描述文件
- 组件的 props 必须有
  - ts 的类型描述，用于编译校验（ts 时也需要提供 state 的）

...待补充

# 工作流程

维护更新组件库的标准流程约定

## 基础组件

1. 想法由组装或团队指派到成员 A，并预定提交 DeadLine，创建 gitlab issue
2. 成员 A 在 DL 之前从 issue 拉 gitlab 分支，实现功能，向主干分支提请 merge request
3. 团队 review 该 merge request，提出异议或意见，当所有 discussion 都 resolved 之后，合并到主干
4. 完成组件开发

## 业务线使用组件

在不涉及二次开发的情况下，每条业务线可以直接使用公有仓库内容。

但需要二次开发时，业务线应该自行 fork 属于业务线的仓库，不要污染公有组件仓库。

当业务线有优秀组件可以作为公有组件时，应从业务线仓库提交 merge request。
